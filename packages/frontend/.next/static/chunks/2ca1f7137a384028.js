(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75351,e=>{"use strict";let a="http://localhost:5000";function t(){let e=localStorage.getItem("token");return e?{Authorization:`Bearer ${e}`}:{}}async function s(e){return(await fetch(`${a}/tugas`,{method:"POST",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify(e)})).json()}async function r(e){return(await fetch(`${a}/tugas/${e}`,{method:"DELETE",headers:t()})).json()}async function n(){return(await fetch(`${a}/jadwal`,{headers:t(),cache:"no-store"})).json()}async function i(e){return(await fetch(`${a}/jadwal`,{method:"POST",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify(e)})).json()}async function d(e){return(await fetch(`${a}/jadwal/${e}`,{method:"DELETE",headers:t()})).json()}async function l(e){return(await fetch(`${a}/materi`,{method:"POST",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify(e)})).json()}async function o(e){return(await fetch(`${a}/materi/${e}`,{method:"DELETE",headers:t()})).json()}e.s(["addJadwal",()=>i,"addMateri",()=>l,"addTugas",()=>s,"deleteJadwal",()=>d,"deleteMateri",()=>o,"deleteTugas",()=>r,"getAllJadwal",()=>n])},43922,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(18566),r=e.i(75351);function n({initialTugas:e}){(0,s.useRouter)();let[n,i]=(0,t.useState)(e||[]),[d,l]=(0,t.useState)({judul:"",deskripsi:"",deadline:""}),[o,u]=(0,t.useState)(!1),[c,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{u("admin"===localStorage.getItem("role"))},[]);let g=async e=>{if(e.preventDefault(),o){h(!0);try{let e=await (0,r.addTugas)({...d,status:"Belum Selesai"});i([...n,e]),l({judul:"",deskripsi:"",deadline:""})}catch(e){console.error(e),alert("Gagal menambahkan tugas")}h(!1)}},p=async e=>{if(o&&confirm("Apakah yakin ingin menghapus tugas ini?")){h(!0);try{await (0,r.deleteTugas)(e),i(n.filter(a=>a.id!==e))}catch(e){console.error(e),alert("Gagal menghapus tugas")}h(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[o&&(0,a.jsxs)("form",{onSubmit:g,className:"p-4 bg-gray-100 rounded-lg shadow space-y-3",children:[(0,a.jsx)("h2",{className:"font-bold text-lg text-gray-800",children:"Tambah Tugas"}),(0,a.jsx)("input",{type:"text",placeholder:"Judul",value:d.judul,onChange:e=>l({...d,judul:e.target.value}),className:"w-full border p-2 rounded text-gray-800",required:!0}),(0,a.jsx)("textarea",{placeholder:"Deskripsi",value:d.deskripsi,onChange:e=>l({...d,deskripsi:e.target.value}),className:"w-full border p-2 rounded text-gray-800",required:!0}),(0,a.jsx)("input",{type:"date",value:d.deadline,onChange:e=>l({...d,deadline:e.target.value}),className:"w-full border p-2 rounded text-gray-800",required:!0}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-800 transition",children:c?"Menyimpan...":"Tambah"})]}),(0,a.jsx)("ul",{className:"space-y-3",children:n.map(e=>(0,a.jsxs)("li",{className:"p-4 bg-gray-100 rounded-lg shadow flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-800",children:e.judul}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.deskripsi}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Deadline: ",e.deadline]})]}),o&&(0,a.jsx)("button",{onClick:()=>p(e.id),className:"text-red-500 hover:text-red-700 font-bold cursor-pointer",children:"Hapus"})]},e.id))})]})}e.s(["default",()=>n])}]);