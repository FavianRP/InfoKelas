(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75351,e=>{"use strict";let a="http://localhost:5000";function t(){let e=localStorage.getItem("token");return e?{Authorization:`Bearer ${e}`}:{}}async function r(e){return(await fetch(`${a}/tugas`,{method:"POST",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify(e)})).json()}async function l(e){return(await fetch(`${a}/tugas/${e}`,{method:"DELETE",headers:t()})).json()}async function s(){return(await fetch(`${a}/jadwal`,{headers:t(),cache:"no-store"})).json()}async function n(e){return(await fetch(`${a}/jadwal`,{method:"POST",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify(e)})).json()}async function i(e){return(await fetch(`${a}/jadwal/${e}`,{method:"DELETE",headers:t()})).json()}async function d(e){return(await fetch(`${a}/materi`,{method:"POST",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify(e)})).json()}async function o(e){return(await fetch(`${a}/materi/${e}`,{method:"DELETE",headers:t()})).json()}e.s(["addJadwal",()=>n,"addMateri",()=>d,"addTugas",()=>r,"deleteJadwal",()=>i,"deleteMateri",()=>o,"deleteTugas",()=>l,"getAllJadwal",()=>s])},63121,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(75351),l=e.i(18566);function s({initialMateri:e}){let s=(0,l.useRouter)(),[n,i]=(0,t.useState)(e||[]),[d,o]=(0,t.useState)({judul:"",deskripsi:"",link:"",tanggal:""}),[u,c]=(0,t.useState)(!1);(0,t.useEffect)(()=>{c("admin"===localStorage.getItem("role"))},[]);let g=async e=>{if(e.preventDefault(),!u)return;let a={judul:d.judul,isi:d.deskripsi,file:d.link,tanggal:d.tanggal};i([...n,{id:(await (0,r.addMateri)(a)).id,judul:a.judul,isi:a.isi,file:a.file,tanggal:a.tanggal}]),o({judul:"",deskripsi:"",link:"",tanggal:""})},h=async e=>{u&&(await (0,r.deleteMateri)(e),i(n.filter(a=>a.id!==e)))};return(0,a.jsxs)("div",{className:"space-y-6 ",children:[u&&(0,a.jsxs)("form",{onSubmit:g,className:"p-4 text-gray-900 bg-gray-100 rounded-lg shadow space-y-3",children:[(0,a.jsx)("h2",{className:"font-bold text-lg",children:"Tambah Materi"}),(0,a.jsx)("input",{type:"text",placeholder:"Judul",value:d.judul,onChange:e=>o({...d,judul:e.target.value}),className:"w-full border p-2 rounded",required:!0}),(0,a.jsx)("textarea",{placeholder:"Deskripsi materi",value:d.deskripsi,onChange:e=>o({...d,deskripsi:e.target.value}),className:"w-full border p-2 rounded",required:!0}),(0,a.jsx)("input",{type:"text",placeholder:"Link file (Google Drive, PDF, dll)",value:d.link,onChange:e=>o({...d,link:e.target.value}),className:"w-full border p-2 rounded",required:!0}),d.link&&(0,a.jsxs)("div",{className:"mt-2 p-3 border rounded bg-white",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-700 mb-1",children:"Preview File:"}),d.link.endsWith(".pdf")?(0,a.jsx)("iframe",{src:d.link,className:"w-full h-72 border"}):(0,a.jsx)("a",{href:d.link,target:"_blank",className:"text-blue-600 underline",rel:"noopener noreferrer",children:"Buka File"})]}),(0,a.jsx)("input",{type:"date",value:d.tanggal,onChange:e=>o({...d,tanggal:e.target.value}),className:"w-full border p-2 rounded",required:!0}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-800 cursor-pointer",children:"Tambah"})]}),(0,a.jsx)("ul",{className:"space-y-3",children:0===n.length?(0,a.jsx)("p",{className:"text-gray-500",children:"Belum ada materi."}):n.map(e=>(0,a.jsxs)("li",{className:"p-4 text-gray-900 bg-gray-100 rounded-lg shadow cursor-pointer hover:bg-gray-200",onClick:()=>{var a;return a=e.id,void s.push(`/materi/${a}`)},children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{className:"font-semibold",children:e.judul}),u&&(0,a.jsx)("button",{onClick:a=>{a.stopPropagation(),h(e.id)},className:"text-red-500 hover:text-red-700 font-bold cursor-pointer",children:"Hapus"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.isi}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Tanggal: ",e.tanggal]})]},e.id))})]})}e.s(["default",()=>s])}]);