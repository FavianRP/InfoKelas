module.exports=[7762,a=>{"use strict";let b="http://localhost:5000";async function c(a){return(await fetch(`${b}/tugas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json()}async function d(a){return(await fetch(`${b}/tugas/${a}`,{method:"DELETE",headers:{}})).json()}async function e(){return(await fetch(`${b}/jadwal`,{headers:{},cache:"no-store"})).json()}async function f(a){return(await fetch(`${b}/jadwal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json()}async function g(a){return(await fetch(`${b}/jadwal/${a}`,{method:"DELETE",headers:{}})).json()}async function h(a){return(await fetch(`${b}/materi`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json()}async function i(a){return(await fetch(`${b}/materi/${a}`,{method:"DELETE",headers:{}})).json()}a.s(["addJadwal",()=>f,"addMateri",()=>h,"addTugas",()=>c,"deleteJadwal",()=>g,"deleteMateri",()=>i,"deleteTugas",()=>d,"getAllJadwal",()=>e])},35285,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7762),e=a.i(50944);function f({initialMateri:a}){let f=(0,e.useRouter)(),[g,h]=(0,c.useState)(a||[]),[i,j]=(0,c.useState)({judul:"",deskripsi:"",link:"",tanggal:""}),[k,l]=(0,c.useState)(!1);(0,c.useEffect)(()=>{l("admin"===localStorage.getItem("role"))},[]);let m=async a=>{if(a.preventDefault(),!k)return;let b={judul:i.judul,isi:i.deskripsi,file:i.link,tanggal:i.tanggal};h([...g,{id:(await (0,d.addMateri)(b)).id,judul:b.judul,isi:b.isi,file:b.file,tanggal:b.tanggal}]),j({judul:"",deskripsi:"",link:"",tanggal:""})},n=async a=>{k&&(await (0,d.deleteMateri)(a),h(g.filter(b=>b.id!==a)))};return(0,b.jsxs)("div",{className:"space-y-6 ",children:[k&&(0,b.jsxs)("form",{onSubmit:m,className:"p-4 text-gray-900 bg-gray-100 rounded-lg shadow space-y-3",children:[(0,b.jsx)("h2",{className:"font-bold text-lg",children:"Tambah Materi"}),(0,b.jsx)("input",{type:"text",placeholder:"Judul",value:i.judul,onChange:a=>j({...i,judul:a.target.value}),className:"w-full border p-2 rounded",required:!0}),(0,b.jsx)("textarea",{placeholder:"Deskripsi materi",value:i.deskripsi,onChange:a=>j({...i,deskripsi:a.target.value}),className:"w-full border p-2 rounded",required:!0}),(0,b.jsx)("input",{type:"text",placeholder:"Link file (Google Drive, PDF, dll)",value:i.link,onChange:a=>j({...i,link:a.target.value}),className:"w-full border p-2 rounded",required:!0}),i.link&&(0,b.jsxs)("div",{className:"mt-2 p-3 border rounded bg-white",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-700 mb-1",children:"Preview File:"}),i.link.endsWith(".pdf")?(0,b.jsx)("iframe",{src:i.link,className:"w-full h-72 border"}):(0,b.jsx)("a",{href:i.link,target:"_blank",className:"text-blue-600 underline",rel:"noopener noreferrer",children:"Buka File"})]}),(0,b.jsx)("input",{type:"date",value:i.tanggal,onChange:a=>j({...i,tanggal:a.target.value}),className:"w-full border p-2 rounded",required:!0}),(0,b.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-800 cursor-pointer",children:"Tambah"})]}),(0,b.jsx)("ul",{className:"space-y-3",children:0===g.length?(0,b.jsx)("p",{className:"text-gray-500",children:"Belum ada materi."}):g.map(a=>(0,b.jsxs)("li",{className:"p-4 text-gray-900 bg-gray-100 rounded-lg shadow cursor-pointer hover:bg-gray-200",onClick:()=>{var b;return b=a.id,void f.push(`/materi/${b}`)},children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("p",{className:"font-semibold",children:a.judul}),k&&(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),n(a.id)},className:"text-red-500 hover:text-red-700 font-bold cursor-pointer",children:"Hapus"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.isi}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Tanggal: ",a.tanggal]})]},a.id))})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=packages_frontend_cb6491d1._.js.map